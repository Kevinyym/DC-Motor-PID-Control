# DC-Motor-PID-Control

## 1 目标
实现PID控制直流编码电机

## 2 步骤
### 2.1 按键控制电机速度（参考江科协代码）
改成电机的驱动函数能输入PWM的值作为参数(在PID控制的实例中，实际用不到按键)

### 2.2 编码器接口测速（参考江科协代码）
编码器接口计数，通过转换能计算出电机的实际转速。
45减速比，4分频，霍尔编码器电机转一圈单相输出13个脉冲,则电机输出轴转一圈最大输出 4x45x13=2340 个计数
角速度计算公式 Rps=实际编码器计数/2340 (圈/秒)

### 2.3 串口通讯（参考江科协代码）
串口输出编码器的转速值，连接上位机图形化显示
Serial_Printf("Rps: %.2f\n", Rps); //串口输出转速，换行打印

### 2.4 旋转编码器控制电机速度

## 3 定时器表资源表：STM32F103C8T6定时器资源：TIM1,TIM2,TIM3,TIM4
	功能	    定时器	 类型
	闲置	    TIM1	 高级定时器
	PWM		   TIM2	  通用定时器	
	Encoder	 TIM3	  通用定时器	
	Timer	   TIM4	  通用定时器	

![截屏2023-05-25 下午9 26 11](https://github.com/Kevinyym/DC-Motor-PID-Control/assets/101639215/70501e9c-0ded-49f7-b84e-91fe3f6ec45b)

![截屏2023-05-25 下午9 29 18](https://github.com/Kevinyym/DC-Motor-PID-Control/assets/101639215/1a99db1c-61d8-4b7c-859d-89d0d5e69765)

